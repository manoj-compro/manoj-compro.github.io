{"version":3,"sources":["../src/components/SumPlayer.ts","../src/player.ts","../src/index.ts"],"sourcesContent":["import { css, html, LitElement } from 'lit';\r\nimport type { PropertyValues } from 'lit';\r\nimport { property, state } from 'lit/decorators.js';\r\n\r\nimport { SumPlayer } from '../player.js';\r\n\r\nexport const SUM_PLAYER_TAG = `sum-player-v${process.env.PLAYER_VERSION ?? '1'}`;\r\n\r\nexport class SumPlayerElement extends LitElement {\r\n  @property({ type: String, attribute: 'player-id' })\r\n  playerId = 'demo';\r\n\r\n  @property({ type: String })\r\n  label = 'Sum Player';\r\n\r\n  @property({ type: Number, attribute: 'initial-left' })\r\n  initialLeft = 2;\r\n\r\n  @property({ type: Number, attribute: 'initial-right' })\r\n  initialRight = 3;\r\n\r\n  @state()\r\n  private playerState = new SumPlayer({\r\n    id: this.playerId,\r\n    label: this.label,\r\n    initialLeft: this.initialLeft,\r\n    initialRight: this.initialRight\r\n  }).getState();\r\n\r\n  @state()\r\n  private left = this.initialLeft;\r\n\r\n  @state()\r\n  private right = this.initialRight;\r\n\r\n  private player = new SumPlayer({\r\n    id: this.playerId,\r\n    label: this.label,\r\n    initialLeft: this.initialLeft,\r\n    initialRight: this.initialRight\r\n  });\r\n\r\n  protected willUpdate(changed: PropertyValues<this>): void {\r\n    if (\r\n      changed.has('playerId') ||\r\n      changed.has('label') ||\r\n      changed.has('initialLeft') ||\r\n      changed.has('initialRight')\r\n    ) {\r\n      this.player = new SumPlayer({\r\n        id: this.playerId,\r\n        label: this.label,\r\n        initialLeft: this.initialLeft,\r\n        initialRight: this.initialRight\r\n      });\r\n      this.left = this.initialLeft;\r\n      this.right = this.initialRight;\r\n      this.syncState();\r\n    }\r\n  }\r\n\r\n  private syncState(): void {\r\n    this.playerState = this.player.getState();\r\n  }\r\n\r\n  private onLeftInput(event: Event): void {\r\n    const target = event.target as HTMLInputElement | null;\r\n    this.left = Number(target?.value ?? 0);\r\n  }\r\n\r\n  private onRightInput(event: Event): void {\r\n    const target = event.target as HTMLInputElement | null;\r\n    this.right = Number(target?.value ?? 0);\r\n  }\r\n\r\n  private onCalculate(): void {\r\n    this.playerState = this.player.setOperands(this.left, this.right);\r\n  }\r\n\r\n  private onReset(): void {\r\n    this.left = 0;\r\n    this.right = 0;\r\n    this.playerState = this.player.reset();\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <section class=\"sum-player\">\r\n        <header class=\"sum-player__header\">\r\n          <h2 class=\"sum-player__title\">${this.playerState.label}</h2>\r\n          <p class=\"sum-player__meta\">ID: ${this.playerState.id}</p>\r\n        </header>\r\n\r\n        <div class=\"sum-player__inputs\">\r\n          <input\r\n            class=\"sum-player__input\"\r\n            type=\"number\"\r\n            .value=${String(this.left)}\r\n            aria-label=\"Left value\"\r\n            @input=${this.onLeftInput}\r\n          />\r\n          <span class=\"sum-player__operator\">+</span>\r\n          <input\r\n            class=\"sum-player__input\"\r\n            type=\"number\"\r\n            .value=${String(this.right)}\r\n            aria-label=\"Right value\"\r\n            @input=${this.onRightInput}\r\n          />\r\n        </div>\r\n\r\n        <div class=\"sum-player__actions\">\r\n          <button type=\"button\" @click=${this.onCalculate}>Result</button>\r\n          <button type=\"button\" @click=${this.onReset}>Reset</button>\r\n        </div>\r\n\r\n        <p class=\"sum-player__result\">\r\n          Result: <strong>${this.playerState.result}</strong>\r\n        </p>\r\n      </section>\r\n    `;\r\n  }\r\n\r\n  static styles = css`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    .sum-player {\r\n      border: 1px solid #d0d7de;\r\n      border-radius: 12px;\r\n      padding: 16px;\r\n      display: grid;\r\n      gap: 12px;\r\n      max-width: 360px;\r\n      font-family:\r\n        ui-sans-serif,\r\n        system-ui,\r\n        -apple-system,\r\n        'Segoe UI',\r\n        sans-serif;\r\n    }\r\n\r\n    .sum-player__header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: baseline;\r\n      gap: 12px;\r\n    }\r\n\r\n    .sum-player__title {\r\n      font-size: 18px;\r\n      font-weight: 600;\r\n      margin: 0;\r\n    }\r\n\r\n    .sum-player__meta {\r\n      font-size: 12px;\r\n      color: #57606a;\r\n      margin: 0;\r\n    }\r\n\r\n    .sum-player__inputs {\r\n      display: grid;\r\n      grid-template-columns: 1fr auto 1fr;\r\n      gap: 8px;\r\n      align-items: center;\r\n    }\r\n\r\n    .sum-player__input {\r\n      border: 1px solid #cfd7de;\r\n      border-radius: 6px;\r\n      padding: 6px 8px;\r\n      font-size: 14px;\r\n    }\r\n\r\n    .sum-player__operator {\r\n      font-size: 18px;\r\n      font-weight: 600;\r\n      text-align: center;\r\n    }\r\n\r\n    .sum-player__actions {\r\n      display: flex;\r\n      gap: 8px;\r\n    }\r\n\r\n    .sum-player__actions button {\r\n      border: 1px solid #cfd7de;\r\n      background: #ffffff;\r\n      border-radius: 6px;\r\n      padding: 6px 12px;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .sum-player__result {\r\n      font-size: 14px;\r\n      margin: 0;\r\n    }\r\n  `;\r\n}\r\n\r\nexport const defineSumPlayer = (): void => {\r\n  if (!customElements.get(SUM_PLAYER_TAG)) {\r\n    customElements.define(SUM_PLAYER_TAG, SumPlayerElement);\r\n  }\r\n};\r\n","export interface SumPlayerProps {\r\n  id: string;\r\n  label?: string;\r\n  initialLeft?: number;\r\n  initialRight?: number;\r\n}\r\n\r\nexport interface SumPlayerState {\r\n  id: string;\r\n  label: string;\r\n  left: number;\r\n  right: number;\r\n  result: number;\r\n}\r\n\r\nexport class SumPlayer {\r\n  private readonly id: string;\r\n  private label: string;\r\n  private left: number;\r\n  private right: number;\r\n\r\n  constructor(props: SumPlayerProps) {\r\n    this.id = props.id;\r\n    this.label = props.label ?? 'Sum Player';\r\n    this.left = props.initialLeft ?? 0;\r\n    this.right = props.initialRight ?? 0;\r\n  }\r\n\r\n  getState(): SumPlayerState {\r\n    return {\r\n      id: this.id,\r\n      label: this.label,\r\n      left: this.left,\r\n      right: this.right,\r\n      result: this.left + this.right\r\n    };\r\n  }\r\n\r\n  setLeft(value: number): SumPlayerState {\r\n    this.left = this.toNumber(value);\r\n    return this.getState();\r\n  }\r\n\r\n  setRight(value: number): SumPlayerState {\r\n    this.right = this.toNumber(value);\r\n    return this.getState();\r\n  }\r\n\r\n  setOperands(left: number, right: number): SumPlayerState {\r\n    this.left = this.toNumber(left);\r\n    this.right = this.toNumber(right);\r\n    return this.getState();\r\n  }\r\n\r\n  reset(): SumPlayerState {\r\n    this.left = 0;\r\n    this.right = 0;\r\n    return this.getState();\r\n  }\r\n\r\n  rename(label: string): SumPlayerState {\r\n    this.label = label.trim() || this.label;\r\n    return this.getState();\r\n  }\r\n\r\n  private toNumber(value: number): number {\r\n    return Number.isFinite(value) ? value : 0;\r\n  }\r\n}\r\n","export {\r\n  SUM_PLAYER_TAG,\r\n  SumPlayerElement,\r\n  defineSumPlayer\r\n} from './components/SumPlayer.js';\r\n\r\nimport { defineSumPlayer } from './components/SumPlayer.js';\r\n\r\ndefineSumPlayer();\r\n"],"mappings":"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","names":[]}